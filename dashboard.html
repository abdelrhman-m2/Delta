<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>لوحة التحكم - CarHub Pro</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="responsive.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="container">
            <div class="navbar-wrapper">
                <div class="logo">
                    <i class="fas fa-car-alt"></i>
                    <span>CarHub Pro</span>
                </div>
                <button class="menu-toggle" id="menuToggle">
                    <span></span><span></span><span></span>
                </button>
                <ul class="nav-links" id="navLinks">
                    <li><a href="index.html" class="nav-link">الرئيسية</a></li>
                    <li><a href="dashboard.html" class="nav-link">لوحة التحكم</a></li>
                </ul>
                <div class="nav-right">
                    <button class="theme-toggle" id="themeToggle"><i class="fas fa-moon"></i></button>
                    <button class="lang-toggle" id="langToggle">EN</button>
                    <button class="btn-login" onclick="logout()">خروج</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <section style="padding: 40px 0;">
        <div class="container">
            <h1 style="margin-bottom: 30px;">لوحة التحكم</h1>

            <!-- User Info -->
            <div style="background-color: var(--bg-light); padding: 30px; border-radius: 12px; margin-bottom: 40px;">
                <div style="display: flex; align-items: center;">
                    <div style="width: 100px; height: 100px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; margin-right: 30px;"></div>
                    <div>
                        <h2 id="userName" style="margin: 0 0 10px 0;">أحمد محمد</h2>
                        <p id="userEmail" style="margin: 0 0 5px 0; color: var(--text-light);">ahmed@example.com</p>
                        <p style="margin: 0; color: var(--text-light);">عضو منذ يناير 2024</p>
                    </div>
                </div>
            </div>

            <!-- Stats Grid -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 20px; margin-bottom: 40px;">
                <div style="background-color: var(--bg-white); padding: 20px; border-radius: 12px; border-left: 4px solid var(--primary-color);">
                    <p style="color: var(--text-light); margin: 0 0 10px 0;">السيارات المحفوظة</p>
                    <h3 style="margin: 0; color: var(--primary-color);">12</h3>
                </div>
                <div style="background-color: var(--bg-white); padding: 20px; border-radius: 12px; border-left: 4px solid var(--accent-color);">
                    <p style="color: var(--text-light); margin: 0 0 10px 0;">الحجوزات النشطة</p>
                    <h3 style="margin: 0; color: var(--accent-color);">3</h3>
                </div>
                <div style="background-color: var(--bg-white); padding: 20px; border-radius: 12px; border-left: 4px solid var(--success-color);">
                    <p style="color: var(--text-light); margin: 0 0 10px 0;">الطلبات المكتملة</p>
                    <h3 style="margin: 0; color: var(--success-color);">8</h3>
                </div>
            </div>

            <!-- Tabs -->
            <div style="border-bottom: 1px solid var(--border-color); margin-bottom: 30px;">
                <button class="tab-button active" onclick="switchTab('favorites')" style="padding: 15px 30px; border: none; cursor: pointer; background: none; color: var(--primary-color); font-weight: 600; border-bottom: 3px solid var(--primary-color);">
                    <i class="fas fa-heart"></i> المفضلة
                </button>
                <button class="tab-button" onclick="switchTab('bookings')" style="padding: 15px 30px; border: none; cursor: pointer; background: none; color: var(--text-light); font-weight: 600;">
                    <i class="fas fa-calendar"></i> الحجوزات
                </button>
                <button class="tab-button" onclick="switchTab('history')" style="padding: 15px 30px; border: none; cursor: pointer; background: none; color: var(--text-light); font-weight: 600;">
                    <i class="fas fa-history"></i> السجل
                </button>
                <button class="tab-button" onclick="switchTab('settings')" style="padding: 15px 30px; border: none; cursor: pointer; background: none; color: var(--text-light); font-weight: 600;">
                    <i class="fas fa-cog"></i> الإعدادات
                </button>
            </div>

            <!-- Tab Contents -->
            <div id="favorites" class="tab-content">
                <div class="cars-grid" id="favoritesGrid">
                    <!-- Favorite cars will be loaded here -->
                </div>
            </div>

            <div id="bookings" class="tab-content" style="display: none;">
                <div style="background-color: var(--bg-white); padding: 30px; border-radius: 12px;">
                    <h3 style="margin-bottom: 20px;">الحجوزات النشطة</h3>
                    <div style="background-color: var(--bg-light); padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <p style="margin: 0 0 5px 0; font-weight: 600;">BMW 320i - استئجار</p>
                                <p style="margin: 0; color: var(--text-light); font-size: 0.875rem;">من: 15 فبراير - إلى: 20 فبراير</p>
                            </div>
                            <div style="text-align: center;">
                                <p style="margin: 0 0 5px 0; color: var(--primary-color); font-weight: 600;">2,750 جنيه</p>
                                <span style="background-color: var(--success-color); color: white; padding: 5px 10px; border-radius: 4px; font-size: 0.75rem;">نشط</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="history" class="tab-content" style="display: none;">
                <div style="background-color: var(--bg-white); padding: 30px; border-radius: 12px;">
                    <h3 style="margin-bottom: 20px;">سجل المعاملات</h3>
                    <div style="border: 1px solid var(--border-color); border-radius: 8px; overflow: hidden;">
                        <table style="width: 100%; border-collapse: collapse;">
                            <thead style="background-color: var(--bg-light);">
                                <tr>
                                    <th style="padding: 15px; text-align: right; border-bottom: 1px solid var(--border-color);">التاريخ</th>
                                    <th style="padding: 15px; text-align: right; border-bottom: 1px solid var(--border-color);">النوع</th>
                                    <th style="padding: 15px; text-align: right; border-bottom: 1px solid var(--border-color);">المبلغ</th>
                                    <th style="padding: 15px; text-align: right; border-bottom: 1px solid var(--border-color);">الحالة</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">10 فبراير 2025</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">إيجار</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">2,500 جنيه</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">
                                        <span style="background-color: var(--success-color); color: white; padding: 5px 10px; border-radius: 4px; font-size: 0.75rem;">مكتمل</span>
                                    </td>
                                </tr>
                                <tr>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">5 فبراير 2025</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">صيانة</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">800 جنيه</td>
                                    <td style="padding: 15px; border-bottom: 1px solid var(--border-color);">
                                        <span style="background-color: var(--success-color); color: white; padding: 5px 10px; border-radius: 4px; font-size: 0.75rem;">مكتمل</span>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div id="settings" class="tab-content" style="display: none;">
                <div style="background-color: var(--bg-white); padding: 30px; border-radius: 12px; max-width: 600px;">
                    <h3 style="margin-bottom: 30px;">إعدادات الحساب</h3>

                    <div style="margin-bottom: 30px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 10px;">الاسم</label>
                        <input type="text" value="أحمد محمد" class="filter-input" style="width: 100%;">
                    </div>

                    <div style="margin-bottom: 30px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 10px;">البريد الإلكتروني</label>
                        <input type="email" value="ahmed@example.com" class="filter-input" style="width: 100%;">
                    </div>

                    <div style="margin-bottom: 30px;">
                        <label style="display: block; font-weight: 600; margin-bottom: 10px;">رقم الهاتف</label>
                        <input type="tel" placeholder="+20" class="filter-input" style="width: 100%;">
                    </div>

                    <div style="display: flex; gap: 10px;">
                        <button class="btn-primary">حفظ التغييرات</button>
                        <button class="btn-secondary">إلغاء</button>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-section">
                    <h4>CarHub Pro</h4>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 CarHub Pro. جميع الحقوق محفوظة</p>
            </div>
        </div>
    </footer>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span id="toastMessage"></span>
    </div>

    <script src="data.js"></script>
    <script src="script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const user = JSON.parse(localStorage.getItem('user'));
            if (!user) {
                window.location.href = 'index.html';
                return;
            }

            document.getElementById('userName').textContent = user.name;
            document.getElementById('userEmail').textContent = user.email;

            loadFavorites();
        });

        function loadFavorites() {
            const favorites = JSON.parse(localStorage.getItem('favorites')) || [];
            const cars = getCarsData();
            const favoriteCars = cars.filter(car => favorites.includes(car.id));

            const grid = document.getElementById('favoritesGrid');
            if (favoriteCars.length === 0) {
                grid.innerHTML = '<p style="grid-column: 1 / -1; color: var(--text-light);">لا توجد سيارات محفوظة</p>';
            } else {
                grid.innerHTML = '';
                favoriteCars.forEach(car => {
                    grid.appendChild(createCarCard(car));
                });
            }
        }

        function switchTab(tabName) {
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.style.display = 'none';
            });
            document.querySelectorAll('.tab-button').forEach(btn => {
                btn.style.color = 'var(--text-light)';
                btn.style.borderBottom = 'none';
            });

            document.getElementById(tabName).style.display = 'block';
            event.target.closest('.tab-button').style.color = 'var(--primary-color)';
            event.target.closest('.tab-button').style.borderBottom = '3px solid var(--primary-color)';
        }
    </script>
</body>
</html>
```
